sudo: true
before_install:
  - sudo apt-get update -qq
  - sudo apt-get install -qq build-essential gettext python-dev zlib1g-dev libpq-dev xvfb
  - sudo apt-get install -qq libtiff4-dev libjpeg8-dev libfreetype6-dev liblcms1-dev libwebp-dev
  - sudo apt-get install -qq graphviz-dev python-setuptools python3-dev python-virtualenv python-pip python-smbus
  - sudo apt-get install -qq firefox automake libtool libreadline6 libreadline6-dev libreadline-dev
  - sudo apt-get install -qq libsqlite3-dev libxml2 libxml2-dev libssl-dev libbz2-dev wget curl llvm
  - cd www/Adafruit_Python_GPIO/
  - python setup.py install
  - cd ../../
install:
  - pip install -r www/requirements.txt
  - pip install coveralls
script:
  - py.test
  - prospector
script:
  - pushd www/docs
  - make html
  - popd
after_success:
  - coveralls
language: python
virtualenv:
  system_site_packages: true
python:
- "2.7"
deploy:
  - provider: s3 
    access_key_id: AKIAIGTJF2ZRMY5BAAKQ
    secret_access_key:
      secure: uD0Z3WxSFyHp32ivolxlM3QZ8jcp5E7unQvwFNuFSOoQ1KlHyXIEtnat3HZvwUhTw5cdQcO6KYd6/cSUBfy/yRpchXE4Mv6TBXcrvbArSQHAGP/s2lbV4DjJp0xx2n65vvzD0JaxcnMUuQbIBO/4aUwRmJj/Aarri0OWnT4UPAO/B/oi5b/IjzKKz4MUDh6cgXxGsI5sgQnkRQPszPmvos5kIQ1Eoun9Vg88JPJNl/04OhEJlh2aDKBHk5yfrQN+d48OZsVMiSBw6ioIRHa2F6EeaB+6Zomro6AFY3Zgwkx64m93C6B6lw6j6h2szCGMP4rSnUmcgiAleXiOw2iptXbGSx2+hAhk0ohIntwuYtxUtAZEewTfqzMAJMDOy2jMWkT7xxGQ1ihypMtLWfqJqD3d8RHt2cKizOjICSG/w5plxybbHI38ONuj9Qo29Zrw0Jss0ufmCu1zqr2LgqN3yFVIxd1etsB8CDaYfHOTNyGBWzRfiupJ6xe9KvNht4p71Xt2chAbSNjhv7Ow2Pg1IYerowlzo2j7CXfNZ2s0iTOmsGPteKkHn1yMXa47ISQSGkVPWacgm3ZJ2RCWJuP4juioUz8wpKXcqXfrA4QRCeQoE8Bpu4tg9otJEab5Z3CkQ+laFfiKnhfJ9n2GBuDafs+Yz7DzCIoLorTnWTgnUcA=
    bucket: "rovercode-dev-docs"
    local_dir: www/docs/_build/html
    upload-dir: rovercode/development
    acl: public_read
    skip_cleanup: true
    region: us-east-2
    on:
      repo: rovercode/rovercode
      branch: docs-deploy
  - provider: s3 
    access_key_id: AKIAIGTJF2ZRMY5BAAKQ
    secret_access_key:
      secure: uD0Z3WxSFyHp32ivolxlM3QZ8jcp5E7unQvwFNuFSOoQ1KlHyXIEtnat3HZvwUhTw5cdQcO6KYd6/cSUBfy/yRpchXE4Mv6TBXcrvbArSQHAGP/s2lbV4DjJp0xx2n65vvzD0JaxcnMUuQbIBO/4aUwRmJj/Aarri0OWnT4UPAO/B/oi5b/IjzKKz4MUDh6cgXxGsI5sgQnkRQPszPmvos5kIQ1Eoun9Vg88JPJNl/04OhEJlh2aDKBHk5yfrQN+d48OZsVMiSBw6ioIRHa2F6EeaB+6Zomro6AFY3Zgwkx64m93C6B6lw6j6h2szCGMP4rSnUmcgiAleXiOw2iptXbGSx2+hAhk0ohIntwuYtxUtAZEewTfqzMAJMDOy2jMWkT7xxGQ1ihypMtLWfqJqD3d8RHt2cKizOjICSG/w5plxybbHI38ONuj9Qo29Zrw0Jss0ufmCu1zqr2LgqN3yFVIxd1etsB8CDaYfHOTNyGBWzRfiupJ6xe9KvNht4p71Xt2chAbSNjhv7Ow2Pg1IYerowlzo2j7CXfNZ2s0iTOmsGPteKkHn1yMXa47ISQSGkVPWacgm3ZJ2RCWJuP4juioUz8wpKXcqXfrA4QRCeQoE8Bpu4tg9otJEab5Z3CkQ+laFfiKnhfJ9n2GBuDafs+Yz7DzCIoLorTnWTgnUcA=
    bucket: "rovercode-dev-docs"
    local_dir: www/docs/_build/html
    upload-dir: rovercode/master
    acl: public_read
    skip_cleanup: true
    region: us-east-2
    on:
      repo: rovercode/rovercode
      branch: docs-deploy
notifications:
  slack:
    secure: tDLg3aPAQjoXrHQzXNUTGt758NrQKqvuHXzDVBHmOKuLWGoHh4D9BvEvjTRY3YVHPa+mz1nT4UYLDBDEcZl9mV3SjVoopLMQGpysJZhDrvBLir//eZkTmQ8/pKOVu2mmeiaw0xvRimvIW/r9boKvEGiS6QNqKitO2VFQVJX9RfFBEJg1u4vuhj6k4MIWy94Hl/6lj6yNeWEL5wUcS18R4x8nUCl8O3vaBt7RZwOkEsNj/FMja3nexdWShjOhxQuGc9TdHCpfpv8NlpNKCBlVnu7l1DKl/UzI9Qi1w4dWjWLaMDndxfpuQ2vY4ybs/UupV2Wo6Ng+m92bsJ37zPF5HGn6pi8rX02iH8J+rPRKlJq0R/McRfZ06r3k1XSFDHQrU/Fi5lIAQ7dza6i7k5JEE3AlTBJ80/MHpk9q/8uz8sTipY7V+TvNdyeuR+p5iUbwYsLIoHJotcpe8rzVOZUTW14pYodyl8PBfdgg8LmNgNwMyyWhqiC7ocxD4ltXWV7Pqq7pArHq3cts65fbFqAGfDPvt/rnV1bVnlM3aiQZE3ofVvVNB6DF7ykjqYFv6sZy1/FtKIK6pddD5I+JuFNQzMakzhJw+FI5ZeYfIra69Wu1Fo0E7t7ONXdejYooGkVZE5Gl6qyhp39S5zXAtC6pu6EklXumoSB1KXXo7MDQWgM=
